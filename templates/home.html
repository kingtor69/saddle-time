{% extends 'base.html' %}
{% from 'macros.html' import mapbox, weather_info %}
{% block page_sytle %}
  <link rel="stylesheet" href="static/css/weather.css">
  <link rel="stylesheet" href="static/css/location.css">
{% endblock %}
{% block header %}SaddleTime{% endblock %}
{% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col">
      <span class="d-none"></span>
      {{ weather_info(weather, form) }}
    </div>
    <div class="col">
        <div class="row justify-content-center">
          <a href="/routes/new" class="d-block btn btn-block btn-primary m-2" id="new-route-button">make new route{% if g.user.username == "guest" %} as guest{% endif %}</a>
        </div>
        {% if g.user.username == "guest" %}
        <div class="row justify-content-center">
          <div class="col col-6">
            <a href="/login" class="d-block btn btn-block btn-info ml-2 my-2">log in</a>
          </div>
          <div class="col col-6">
            <a href="/users/signup" class="d-block btn btn-block btn-success my-2 mr-2">sign up</a>
          </div>
        </div>
        {% endif %}
        <div class="row justify-content-center">
          <div class="col">
            {{ mapbox(lng, lat, 10, medium) }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
{% block scripts_after %}
  <!-- <script src="/static/js/mapbox.js"></script> -->
  <!-- TODO: probably have some refactoring to do when I get mapbox.js working for the autocomplete location field -->
  <script src="/static/js/weather.js"></script>
{% endblock %}