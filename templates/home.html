{% extends 'base.html' %}

{% block header %}SaddleTime{% endblock %}
{% block content %}
<table id="home-variables" class="d-none">
  <tbody>
    <tr>
      <td>city</td>
      <td>{{ city }}</td>
    </tr>
    <tr>
      <td>conditions</td>
      <td>{{ conditions }}</td>
    </tr>
    <tr>
      <td>weather_icon_url</td>
      <td>{{ weather_icon_url }}</td>
    </tr>
    <tr>
      <td>current_weather_details</td>
      <td>{{ current_weather_details }}</td>
    </tr>
    <tr>
      <td>weather_units</td>
      <td>{{ weather_units }}</td>
    </tr>
  </tbody>
</table>
<div class="container">
  <div class="row justify-content-center">
    <div class="col col-md-1 col-lg-2 d-none d-md block"></div>
    <div class="col col-6 col-md-5 col-lg-4">
      <span class="d-none"></span>
      <table class="table table-dark table-striped rounded">
        <thead>
          <tr>
            <th class="pt-4 my-3">
              <div class="row justify-content-left">
                <div class="col align-self-start">
                  Your current weather in 
                </div>
                <div class="col align-self-start">
                  <form id="change-city" class="d-inline">
                    <button class="btn btn-outline-dark pt-0 mt-0" id="weather-city"><b>{{ city }}</b></button>
                  </form><br>
                  <small class="text-muted"><i>click city to change</i></small>
                </div>
              </div>
            </th>
            <th class="form-floating">
              <form action="" id="weather-units" class="d-inline">
                <select class="form-select py-0 my-0 px-4 bg-info" id="floatingSelect" aria-label="Floating label select example">
                  {% if weather_units == 'imperial' %}
                    <option value="metric">℃/kmph</option>
                    <option selected value="imperial">℉/mph</option>
                  {% else %}
                    <option selected value="metric">℃/kmph</option>
                    <option value="imperial">℉/mph</option>
                  {% endif %}
                </select>
              </form>
            </th>
          </tr>
          <tr>
            <th class="h3">{{ conditions }} </th>
            <th><img src="{{ weather_icon_url }}" alt="{{ conditions }} icon"></th>
          </tr>
        </thead>
        <tbody>
          {% for key in current_weather_details.keys() %}
          <tr>
            <td>{{ key }}</td>
            <td>{{ current_weather_details[key] }}{% if key=="description" %}<img src="{{ weather_icon_url }}">{% endif %}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="col col-6 col-md-5 col-lg-4">
      <!-- if no user logged in: -->
      <div class="row">
        <form action=""></form>
      </div>
      <div class="row m-5"><br></div>
      <div class="row justify-content-center">
        <a href="/login" class="d-block btn btn-block btn-primary m-2">make route as guest</a>
      </div>
      <div class="row justify-content-center">
        <div class="col col-6">
          <a href="/login" class="d-block btn btn-block btn-info ml-2 my-2">login</a>
        </div>
        <div class="col col-6">
          <a href="/login" class="d-block btn btn-block btn-success my-2 mr-2">sign-up</a>
        </div>
      </div>
    </div>
    <div class="col col-md-1 col-lg-2 d-none d-md block"></div>
  </div>
</div>
{% endblock %}